import {
  Box,
  Button,
  Container,
  Image,
  Menu,
  MenuButton,
  MenuItem,
  MenuList,
  Text,
} from "@chakra-ui/react";
// import athena_logo from '../assets/athena_logo.svg'
import React, { useEffect, useState } from "react";
import { useNavigate } from "react-router-dom";
import { signOut } from "../../api/Registeration";
import avatar from "../../assets/avatar.png";

const Header = ({ role, id, employee }) => {
  const [response, setResponse] = useState();
  const [errorMessage, setErrorMessage] = useState();
  const navigation = useNavigate();

  const handleSignOut = async () => {
    localStorage.removeItem("athena-token");
    await signOut(setResponse, role);
  };

  useEffect(() => {
    // console.log(response)
    if (response?.signOutSuccess) {
      navigation("/sign-in");
    }
  }, [response, navigation]);

  const svg = `<svg id="Layer_1" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 647.84 497.98"><defs><style>.cls-1{fill:#b2ba21;}.cls-2{fill:#544e47;}.cls-3{fill:#182227;}</style></defs><title>Athena_dashboard_logo</title><path class="cls-1" d="M769.85,332.1c-6.65-.47-13.3.76-20.14.57a159.89,159.89,0,0,1-61.77-10.45c-1.61-1-3.8-1.43-4.75-3.42-3.32-6.37-4.75-13.31-6.36-20.34,7.88-10.45,9.88-23.75,9-36.39-1.42-20.34-6.65-40.1-12.35-59.68-6.65,8.75-10.74,19-13.59,29.46a182.59,182.59,0,0,0-30.69-9.22c-.19,3.52-.29,6.94-.29,10.46a197.59,197.59,0,0,1,29.18,10.45c-1.14,16.63,1.9,33.73,10.45,48.27,4.75,7.13,5.23,16,7.6,24a85.73,85.73,0,0,1-46-50.65c-5.7-18.71-5.42-38.95-2.47-58.15,1.23-4.75,1.52-10.45,4.56-14.63,7-1.9,14.54-4.37,21.85-2.66,20.15,3.13,40.48-3.23,57.78-13.31,8.55-5.22,17.1-11.4,23.28-19.57-10.83.38-21.67,1.61-32.31,2.85-13.49,1.71-27.27,4.28-38.77,11.88-5.41,3.23-9.69,8-14.92,11.4-4.94,2.47-10.64,2.85-16,4a97,97,0,0,1,31-40.67c14.25,3,28.5-2.85,40.38-10.17,17.3-10.45,32.31-24,47.32-37.43a89,89,0,0,0-66.13,17.1c-9.88,7.22-17.39,16.91-24,27.08a138.36,138.36,0,0,0-25.65,25.47,132.22,132.22,0,0,0-2.86-18.44c2.19-3.23,5.71-5.7,6.66-9.69a18.39,18.39,0,0,0-8.84-19.57c-7.6-4-18.44,0-20.9,8.55-4,11,6.08,24.7,18.24,21.85,2.19,10.17,5.22,21.48.19,31.36-2.66,5.7-4.56,11.78-7.13,17.58-1.9-3.23-4.94-6.27-4.75-10.17a47.06,47.06,0,0,0-7.31-26.41C598.72,146,580,134.55,560.23,129.89c7.8,14.64,15,29.74,24.42,43.52,6.65,9.7,15.49,19.2,27.75,20.62,4.75,8,8.55,17.11,6,26.61-9.79-1.52-19.58-2.57-29.46-3.8,2.09,3.32,3.8,6.84,6.27,9.79,7.41,1.61,14.92,2.47,22.33,3.8-.38,11.87-.19,23.75,2.85,35.15,1.14,4.76,3.52,9.22,3.42,14.26a92.44,92.44,0,0,1-19.29-11c-5.7-33.93-26.6-62.53-48.46-88.09a136.81,136.81,0,0,0-.66,33c-8-1.52-16.44-1.9-23.95-5.13-3.32-5.22-5.51-11.12-7.6-17.1-1.14-2.19.38-4.47.95-6.65,5-13,2.85-27.37,0-40.58C520,126.19,513,108.51,505.12,91.5a6.89,6.89,0,0,1-1.23-.47c-5.23,11.88-9.22,24.7-9,37.72-.48,20.72,9.5,39.91,20.24,56.83,4.37,6.17,6.65,13.3,8.93,20.43-20.71-6.18-36.58-23.38-45.8-42.38A57.15,57.15,0,0,0,457.7,138c-18.62-13.78-42.28-19.57-65.28-18.62,11,12,22.24,24,35.83,33.06,12.35,8.37,27.27,11.69,42,13.31,3.23,0,5.51,2.37,6.84,5.13a97.33,97.33,0,0,0,24.32,30.21c-5.7-1.14-11.4-2.09-16.34-5.51-21.09-12.82-47.51-12.92-70.79-6.65-7.89,2.19-16.34,3.61-23.09,8.55a79.75,79.75,0,0,0,52.45,16c14.82-.57,29-5.42,42.76-10.26a122.91,122.91,0,0,1,34.87,9.31c11.41,4.75,23.47,7.22,35.54,9.21,3.8,16.92,11.41,34.21,25.94,44.47,5.9,4.38,13.31,6.09,20.15,8,7.22,3.8,14.06,8.36,21.57,11.59,7.32,3,10.17,11.21,15.2,16.91-5.13.38-10.26.95-15.2,1.62-6.46-8.84-20.24-8.36-26.89-.19-6.47,7.22-3,20.14,6.08,23.37,11.4,4.76,26.32-6,22.52-18.72a54.29,54.29,0,0,1,19.19-.28c15.21,15.39,35.16,25.85,55.78,32.12,23.76,6.84,49.41,9.69,74.12,6.08.19-5.32-2.38-10.45-5.32-14.73Zm-96.73-44.66c-3.52-8.55-3.8-18.05-4.47-27.18-.19-12.73-.19-25.84,2.57-38.39.95,16.16,2.09,32.31,2.85,48.47a81,81,0,0,1-1,17.29Zm43.71-122.1c-16.15,10.16-35,15.86-53.78,18.62l-.29-1.71c18.44-4.47,35.83-12,54.16-16.91Zm-27-40.48c12.74-7.6,26.42-14.26,41-17.68-6.65,4.94-14.72,8-21.85,12.17-12.55,6.36-24.42,13.87-37.25,19.29,5.13-5.71,11.69-9.51,18.05-13.69ZM617.63,133c-4.75-3.23,1-7.41,4.56-8.27s6.65,1.14,9.5,2.85a19.57,19.57,0,0,0-14,5.42Zm-24.14,31.83c-6.18-8.27-13.49-15.49-20.33-23.09,16.82,10.45,31.35,26.13,38.29,44.95-6.94-6.47-12-14.64-18.05-21.86Zm-84.38-10.74c-3.23-14.25-5.22-29.07-3.8-43.71,4.28,22.62,10.17,45,12.83,67.85-4.56-7.32-6.65-15.87-8.93-24.14Zm-74.69-12.73c-8.17-5-16.53-9.5-24.23-14.92,21.19,5.7,41.53,16.44,57.21,31.93-11.79-4.18-22.33-10.93-33.07-17.1Zm-8.93,59.39a83.31,83.31,0,0,1-17.39-2.57c21.86-1.61,44.09-1.9,65.95.95-15.87,3.42-32.31,2.85-48.46,1.62ZM573.35,232.9c-4.75-10.84-9.22-21.86-10.93-33.64,5.42,11.4,10.45,23.09,16.91,34,5.42,10,11.88,19.48,16,30.21-10.17-7.79-16.44-19.48-21.86-30.69Zm29.83,79.82-2.85-2.85a13.44,13.44,0,0,1,17.39-4.57c-5.32,1.9-10.74,3.42-14.63,7.61Z" transform="translate(-127.44 -91.03)"/><path class="cls-2" d="M349.66,330.87c11.78,3.51,24.7-.95,33.07-9.51-1.9-5.51-4.09-11-6.47-16.34-4.27,3.8-8.17,8.74-14.06,10.26-5.32,1.62-11.59-.19-14.82-4.75-4.56-6.36-5.32-14.54-5.51-22.14-.19-14.73,0-29.45-.19-44.09-5.32-.19-10.74-.19-16.16,0,.29,18.53-.95,37.25,1,55.78-7.6,10.45-20.43,17.86-33.54,15.2-5.42-.95-8.84-5.7-11.69-10,15.4-23,25.66-50,26.61-77.92.28-11.59-1.43-24.71-10.45-33.07-7-7.13-19.48-6.65-26.61.38-8.08,8.08-9.69,20.33-10.26,31.36,0,19-.19,38.29,0,57.49.76,14,3.32,29.17,13.59,39.53,9.31,9.5,23.75,10.73,36.1,7.6,8.56-1.9,15.68-6.94,22.24-12.55,4.28,5.9,10,11.22,17.1,12.93Zm-73-101.68c0-8.55.67-18.43,7.41-24.7,8.08,6,7.6,17.1,7.32,26.22-1.52,19-6.08,37.73-14.63,54.64V229.29ZM231.74,316.8c13.68-14.53,19-35.15,18.43-54.82-.28-19-4.75-39.15-17.58-53.79a47.09,47.09,0,0,0-39-16c-11.4.28-23.09,6.65-27.74,17.48-5.71,12.17-1.91,28.51,9.5,35.73,11.69,7.6,27.08,5.13,38.77-.95L208.46,230c-7.32,2.47-15.59,6-23,2.38-8.55-4.37-7.32-18.06,1.14-21.86,11.4-5.22,25.66-.66,33.64,8.56,9.5,10.92,12.92,25.65,13.87,39.72.95,15.86-2.09,33.25-12.92,45.42-16.16,18.62-48.65,18.62-64.33-.48-18.06-22.23-16.63-56.73.66-78.87a156.38,156.38,0,0,0-6.65-16.44c-18.34,17-25.56,43.24-22.9,67,1.71,16.92,8.84,33.74,21.86,44.95,22.61,19.95,61.1,18.62,81.72-3.52Z" transform="translate(-127.44 -91.03)"/><path class="cls-2" d="M342.91,222.63c1.9-7.6-7.6-14-14.06-9.69-5.51,2.85-6.18,11.4-1.33,15.2,5.13,4.76,14.44,1.43,15.2-5.51ZM410.66,331c14.45-18.44,27.28-39.44,29.84-63.19,3.8,3.52,7.89,7,12,10.45-1.42,12.54,0,26,7.42,36.59,8.07,12.35,23.37,18.24,37.82,17.1,13.77-.29,26.6-6.65,36.39-16.15-2.09-5.42-4.28-10.84-6.65-16.16-6.09,5.23-11.6,11.41-19.39,14-10.16,3.52-23,3.61-31.35-4.28-6.09-5.51-8.27-14.06-8.84-22.14,15,6.37,33.92,7.8,47.22-2.85,11.6-9.12,12.36-28.12,2.09-38.29-10.07-9.79-26.41-11-38.95-5.51-9.7,4.08-16.54,12.64-21.29,21.85-7.6-6.46-14.06-13.87-20.43-21.47-5.23-.19-10.45,2.85-15.49,4.27,8.93,23.28-1.9,48.09-15.58,67-8.17-23.28-17.39-46.18-29.17-67.94-6.08,0-12.07,0-18.06.48,14.92,27.56,27.56,56.35,36.59,86.47h15.67Zm78.87-77c6.18-1.23,14-.38,17.58,5.42,2.85,4.75.38,11.4-4.75,13.78-9.88,5.13-21.47,2.18-31.17-1.9,3-8.18,9.51-15.87,18.44-17.39ZM291.32,398.9c-.38,9.5-1.62,19-5.7,27.56-4.95,11.87-14.64,22-27.18,25.84-12.83,3.8-27.94,2.38-38.67-6.08-8.56-6.65-13.59-17.1-15.4-27.75-2.56-16.91.19-35.44,10.93-49.41,11.4-15.2,33.54-21.19,50.84-13.3,9.12,3.8,13.58,15.49,9.5,24.71-1.9,5.32-6.94,8.26-10.83,12,1.33,4.94,3.61,9.5,5.51,14.44,13.78-5.32,23.75-19.57,23-34.49.19-13.78-9-26.8-21.66-32-25.47-10.65-58-.95-72.41,22.8-10.74,16.92-14,37.82-11.12,57.4,2.19,13.49,8.17,26.6,18.34,36.1,15.21,13.88,38.2,17.3,57.4,10.84,11.21-3.81,20.24-12,27.27-21.29-.19,13.3,1.52,27.18-3.8,39.63-2.38,6-8.08,10.64-14.73,10.83-6.65.95-12.36-2.66-17.77-6l-6.18,15.21c13.3,9.5,33.26,9.69,45.42-1.52,10.74-10.08,13.12-25.66,13.5-39.72,0-21.86.19-43.72,0-65.57h-16Zm470.26,47.8c-4.18,4.46-11,7.79-16.82,4.75-5.89-4.75-4.27-13.31-4.56-20-.47-13.3,2.09-27.74-4.75-39.91-5.89-10.45-19-14.25-30.22-12.92-7.6.76-14.44,4.94-20.43,9.69v-8.83c-5.32-.19-10.73-.19-16.15,0v33.82c0,3.8.38,7.89-1.52,11.41-6.27,12.82-17.58,24.13-31.93,26.89-9,1.71-19.67.95-26.6-5.7-5-4.56-6.66-11.41-8.08-17.68,13.78,4.47,30.41,6.65,43.14-2.09,13.3-8.55,15.77-29.84,3.8-40.86-14.82-14.06-40.86-9.21-53,6.27-11.79,14.73-12.83,35.83-6.18,52.93-3.8,3.8-8.74,9.12-14.73,6.65-6.27-3.42-6.93-11.59-7.41-18.05-.28-32.31,0-64.9-.19-97.5H550c-.19,16.82,0,33.55,0,50.37-9.22-7-21.1-10.84-32.5-8-14.54,2.48-25.37,15.21-28.51,29.18-3.8,16.15-2.56,34.77,7.89,48.27,9.22,12.07,26.61,16.15,40.67,11.4,7-2.37,12.64-7.6,17.58-12.83,3.8,6.18,9.22,12.36,16.72,13.59,9.88,2.28,19-3.51,26-10C610.21,469,628.93,471.4,644.42,466c9.79-3.33,17.58-10.46,24.32-18.06v18.82h16c.47-13.31,0-26.61.19-40.2.28-10.64,4.75-21.66,13.59-28.13a18.32,18.32,0,0,1,19-1.9c3.8,1.9,5.7,6.37,6.08,10.46,1.14,13.11-.66,26.41.95,39.43,1.24,10.45,9.32,20.72,20.43,21.86,11.22,2.28,22.33-3.42,29.84-11.6-2.28-4.94-4-10-6.37-14.82-3.13-.19-4.75,3.33-7,4.75ZM614,396.05c6.84-3.23,16.16-4.28,22.14.95,5.42,4.47,3.23,14-3,16.72-9.88,4.94-21.57,1.52-31.07-2.85,2.85-5.7,6.18-11.78,12.16-14.73Zm-73.16,50.36c-8.27,8.74-24.33,8.17-31.36-1.71-6.18-8.74-7-20.14-5.42-30.41,1.43-8.17,5.89-16.82,14.25-19.67,6.94-2.37,15.4-1.42,20.91,3.52,6.84,5.7,9.5,14.92,9.5,23.47.48,8.74-1.61,18.24-8,24.71Z" transform="translate(-127.44 -91.03)"/><path class="cls-2" d="M502.84,479.1c-10.84-4.08-19-13.78-22.62-24.7-6.37-17.87-2.85-37.06-4.28-55.59-.57-7-4.75-13.59-11.4-16.35-8.74-4.08-18.72-.57-27.74-3.51-4.28-.95-6.85-4.75-9.51-8.08-4.94,1.52-9.88,3-14.82,4.75a151,151,0,0,1,4.75,57.59c-1,6.08-1.9,12.54-5.89,17.1-2.85,3.23-8.17,2.85-10.83-.28-4.75-5.52-4.75-13.31-5.32-20.15V379.52c-5.23,0-10.46-.29-15.49,0a54.49,54.49,0,0,0-.95,5.89c-13.12-10.45-33.26-11-46.56-.76-10.27,7.79-14.92,21.09-15.68,33.73-.76,13.5,1.9,28.22,11.12,38.68,9.21,10.64,25.08,14.06,38.38,10,7.42-2.29,13.31-7.61,18.25-13,2.85,4,5.51,8.26,9.79,10.92,9,6.18,22.8,4.75,29.83-3.8,6.94-8.17,8.84-19.19,10-29.64a182.65,182.65,0,0,0-1-36.78,74.11,74.11,0,0,0,20.52,1.9c2.48,0,6.28.48,6.28,3.61.95,17.3-1.24,35,2.85,52C466,466.85,474,480.72,486.68,489c15.4,10.46,35.35,11.41,52.93,7.13-.48-5.41-3.42-10.17-5.42-15.2-10.45,1.71-21.38,2.18-31.35-1.71ZM371.42,444.89c-7.6,10.46-25.47,10.27-32.88-.47-6-9.12-6.65-20.91-4.75-31.36,1.52-7.6,5.89-15.58,13.59-18.43,8.93-3.42,19.95-.38,25.18,7.79,8.17,12.35,8.08,30.41-.95,42.28Z" transform="translate(-127.44 -91.03)"/><path class="cls-3" d="M437.24,554.45V542.08h6.87c4.85,0,7,2.29,7,6.21s-2.18,6.16-7,6.16Zm20.28-6.16c0-6.16-4.42-11.28-13.41-11.28H431V574.9h6.21V559.52h6.87C454,559.52,457.52,553.69,457.52,548.29ZM491,559.85c0-9.43-6.76-15.48-15.31-15.48s-15.32,6-15.32,15.48,6.49,15.54,15,15.54S491,569.28,491,559.85Zm-24.31,0c0-6.81,4.2-10.08,8.89-10.08s9.05,3.27,9.05,10.08S480,570,475.38,570,466.66,566.66,466.66,559.85Zm35.2,15h6.54l6.05-22.19,6,22.19H527l9.32-30h-6.1l-6.21,24-6.11-24h-6.49L505.08,569l-6.27-24.15h-6.33Zm50.7-25.3c4.64,0,8.29,2.94,8.4,7.58H544.33C545,552.44,548.37,549.6,552.56,549.6ZM566.63,566h-6.71a7.26,7.26,0,0,1-7.08,4.19,8.27,8.27,0,0,1-8.56-8h23a19.47,19.47,0,0,0,.22-3.05c0-8.83-6.05-14.77-14.61-14.77-8.89,0-15,6-15,15.48s6.37,15.54,15,15.54C560.2,575.39,564.94,571.19,566.63,566Zm12-6.87c0-6.38,2.84-8.29,7.42-8.29h1.58v-6.43c-4.25,0-7.25,1.85-9,4.85v-4.36h-6.21v30h6.21ZM605,549.6c4.63,0,8.28,2.94,8.39,7.58H596.72C597.37,552.44,600.75,549.6,605,549.6ZM619,566h-6.7a7.28,7.28,0,0,1-7.09,4.19,8.27,8.27,0,0,1-8.56-8h23a18.34,18.34,0,0,0,.22-3.05c0-8.83-6.05-14.77-14.61-14.77-8.88,0-15,6-15,15.48s6.38,15.54,15,15.54C612.58,575.39,617.32,571.19,619,566Zm3.77-6.22c0,9.27,6.27,15.65,14.18,15.65a12.45,12.45,0,0,0,10.41-5v4.53h6.27V534.56h-6.27v14.5A13.83,13.83,0,0,0,637,544.37C629.05,544.37,622.78,550.47,622.78,559.74Zm24.59.11c0,6.49-4.42,10.14-9.11,10.14s-9.1-3.76-9.1-10.25,4.47-10,9.1-10S647.37,553.42,647.37,559.85ZM680,549.33V534.56h-6.21V574.9H680v-4.37a12.76,12.76,0,0,0,10.47,4.86c7.9,0,14.12-6.38,14.12-15.65s-6.16-15.37-14.12-15.37A12.84,12.84,0,0,0,680,549.33Zm18.26,10.41c0,6.49-4.47,10.25-9.15,10.25S680,566.34,680,559.85s4.47-10.08,9.11-10.08S698.25,553.25,698.25,559.74Zm23.21,8L713,544.86h-6.92l11.83,29.54L711.81,589h6.43l18.43-44.15h-6.43Z" transform="translate(-127.44 -91.03)"/></svg>`;

  return (
    <Container
      position="relative"
      maxW="full"
      minHeight={"85"}
      padding="0px 64px"
      bgColor={"white"}
      display="flex"
      flexDirection="row"
      justifyContent="space-between"
      alignItems="center"
      boxShadow="0px 6px 15px -5px rgba(0, 0, 0, 0.1)"
    >
      <Box
        display="flex"
        justifyContent="flex-start"
        alignItems="center"
        dangerouslySetInnerHTML={{ __html: svg }}
      ></Box>
      <div
        style={{
          position: "absolute",
          color: "red",
          top: "110%",
          right: "20px",
        }}
      >
        {errorMessage}
      </div>
      <Box
        height="100%"
        display="flex"
        justifyContent="center"
        alignItems="flex-end"
        color="black"
        paddingBottom="12px"
      >
        <Box
          height="full"
          display="flex"
          flexDirection="column"
          justifyContent="flex-end"
          alignItems="flex-end"
        >
          <Text fontSize="12px" fontWeight="normal">
            {employee?.ATH} Token
          </Text>
          <Text fontSize="24px" fontWeight="bold" lineHeight={"100%"}>
            {employee?.name.toUpperCase()}
          </Text>
        </Box>
        <Menu bgColor="red">
          {/* <MenuButton as={Button} backgroundColor="red" borderRadius="1000px">
            <Image src={avatar} alt="avatar" width="65px" />
          </MenuButton> */}

          <MenuButton
            bgColor="transparent"
            height="65px"
            width="65px"
            borderRadius="100%"
            as={Button}
            rightIcon={<Image src={avatar} alt="avatar" height="50px" />}
          ></MenuButton>
          <MenuList>
            <MenuItem onClick={() => handleSignOut()}>Sign Out</MenuItem>
          </MenuList>
        </Menu>
      </Box>
    </Container>
  );
};

export default Header;
